<!-- 
<div id="container">
  <div id="left-half">
      <video autoplay muted loop width="450" height="450">
          <source src="../../../assets/bandhan_new.mp4" type="video/mp4">
      </video>
  </div>
  <div id="right-half">
      <div class="card">
          <form id="myForm" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
              <label for="email">Enter your email:</label><br>
              <input formControlName="email" type="email" required><br><br>

              <button type="button" (click)="sendVerificationCode()">Send Verification Code</button><br><br>

              <label for="verificationCode">Enter verification code:</label><br>
              <input formControlName="verificationCode" type="text" required [disabled]="!verificationSent"><br><br>

              <button type="button" (click)="verifyCode()" [disabled]="!verificationSent">Verify Code</button><br><br>

              <label for="password1">Enter new password:</label><br>
              <input formControlName="password1" type="password" minlength="8" required [disabled]="!isCodeVerified"><br><br>

              <label for="password2">Confirm new password:</label><br>
              <input formControlName="password2" type="password" minlength="8" required [disabled]="!isCodeVerified"><br><br>

              <input type="submit" value="Change Password" [disabled]="!isCodeVerified || forgotPasswordForm.invalid">
          </form>
      </div>
  </div>
</div>
 -->

 <div id="container">
  <div id="left-half">
    <video autoplay muted loop width="450" height="450">
      <source src="../../../assets/bandhan_new.mp4" type="video/mp4">
    </video>
  </div>
  <div id="right-half">
    <div class="card">
      <form id="myForm" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <label for="email">Enter your email:</label><br>
        <input formControlName="email" type="email" required>
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error">
          <div *ngIf="email?.errors?.['required']">Email is required.</div>
          <div *ngIf="email?.errors?.['email']">Invalid email address.</div>
        </div>
        <br><br>

        <button type="button" (click)="sendVerificationCode()">Send Verification Code</button><br><br>

        <label for="verificationCode">Enter verification code:</label><br>
        <input formControlName="verificationCode" type="text" required [disabled]="!verificationSent">
        <div *ngIf="verificationCode?.invalid && (verificationCode?.dirty || verificationCode?.touched)" class="error">
          <div *ngIf="verificationCode?.errors?.['required']">Verification code is required.</div>
        </div>
        <br><br>

        <button type="button" (click)="verifyCode()" [disabled]="!verificationSent">Verify Code</button><br><br>

        <label for="password1">Enter new password:</label><br>
        <input formControlName="password1" type="password" minlength="8" required [disabled]="!isCodeVerified">
        <div *ngIf="password1?.invalid && (password1?.dirty || password1?.touched)" class="error">
          <div *ngIf="password1?.errors?.['required']">Password is required.</div>
          <div *ngIf="password1?.errors?.['minlength']">Password must be at least 8 characters long.</div>
        </div>
        <br><br>

        <label for="password2">Confirm new password:</label><br>
        <input formControlName="password2" type="password" minlength="8" required [disabled]="!isCodeVerified">
        <div *ngIf="password2?.invalid && (password2?.dirty || password2?.touched)" class="error">
          <div *ngIf="password2?.errors?.['required']">Confirmation password is required.</div>
          <div *ngIf="password2?.errors?.['minlength']">Password must be at least 8 characters long.</div>
        </div>
        <div *ngIf="forgotPasswordForm.errors?.['passwordMismatch'] && password2?.touched" class="error">
          Passwords do not match.
        </div>
        <br><br>

        <input type="submit" value="Change Password" [disabled]="!isCodeVerified || forgotPasswordForm.invalid">
      </form>
    </div>
  </div>
</div>

<style>
.error {
  color: red;
}
</style>


<style>
.error {
  color: red;
}
</style>
